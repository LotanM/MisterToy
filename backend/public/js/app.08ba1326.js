(function(t){function e(e){for(var o,a,i=e[0],u=e[1],c=e[2],d=0,p=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(o=!1)}o&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},r={app:0},s=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"138a":function(t,e,n){},"1ae4":function(t,e,n){t.exports=n.p+"img/logo.1da7187b.svg"},"1b13":function(t,e,n){t.exports=n.p+"img/Deku.f1160ebf.png"},"1f99":function(t,e,n){t.exports=n.p+"img/2.7db602fd.jpg"},2275:function(t,e,n){t.exports=n.p+"img/transformer.bb4b9f41.png"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("app-header"),n("router-view")],1)},s=[],a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("nav",{staticClass:"header-container"},[o("div",{staticClass:"logo-container"},[o("router-link",{attrs:{to:"/"}},[o("img",{attrs:{src:n("1ae4"),alt:""}})])],1),t.user?o("div",{staticClass:"username-container"},[o("p",[t._v(t._s(t.user.username))]),o("button",{on:{click:function(e){return t.logOut(t.user.username)}}},[o("i",{staticClass:"fas fa-sign-out-alt"})])]):o("p",[o("router-link",{attrs:{to:"/login"}},[o("i",{staticClass:"fas fa-sign-in-alt"})])],1)])},i=[],u={name:"toy-header",methods:{logOut:function(t){this.$store.dispatch("logout",t)}},computed:{user:function(){return this.$store.getters.currUser}}},c=u,l=n("2877"),d=Object(l["a"])(c,a,i,!1,null,null,null),p=d.exports,m={components:{appHeader:p}},f=m,y=(n("cd3a"),Object(l["a"])(f,r,s,!1,null,"21a792af",null)),v=y.exports,g=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[t._m(0),n("nav",[n("div",{staticClass:"btns-container"},[n("div",{staticClass:"login-container"},[n("router-link",{attrs:{to:"/login"}},[n("button",[t._v("Login")])])],1),n("router-link",{attrs:{to:"/misterToy-app"}},[n("button",[t._v("Shop")])])],1),n("router-link",{attrs:{to:"/sign-up"}},[n("p",[t._v("dont have an account yet?")])])],1),t._m(1)])},_=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-title"},[n("h2",[t._v("best toy store")]),n("h1",[t._v("Mister Toy")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"logo-img"},[o("img",{attrs:{src:n("2275"),alt:""}})])}],b={name:"home",data:function(){return{user:{fullname:"lotan"}}}},C=b,w=Object(l["a"])(C,h,_,!1,null,null,null),T=w.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"misterToy-app"},[n("toy-filter"),t.toysToShow&&t.toysToShow.length?n("toy-list",{attrs:{toys:t.toysToShow},on:{removeToy:t.removeToy}}):t._e()],1)},$=[],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toy-list-container"},[n("ul",{staticClass:"toy-list"},t._l(t.toys,(function(e){return n("toy-preview",{key:e._id,attrs:{toy:e},on:{removeToy:t.removeToy}})})),1)])},k=[],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"toy-preview"},[t._m(0),n("div",{staticClass:"details-container"},[n("div",{staticClass:"toy-title"},[t._v(t._s(t.toy.name))]),n("div",{staticClass:"toy-price"},[t._v("$ "+t._s(t.toy.price))]),t.toy.inStock?n("div",[t._v("in Stock!")]):n("div",[t._v("Out of Stock!")]),n("div",{staticClass:"btns-container"},[n("button",{on:{click:function(e){return t.removeToy(t.toy._id)}}},[n("i",{staticClass:"far fa-trash-alt"})]),n("button",{on:{click:function(e){return t.showDetails(t.toy._id)}}},[n("i",{staticClass:"fas fa-info"})]),n("button",{on:{click:function(e){return t.editToy(t.toy._id)}}},[n("i",{staticClass:"fas fa-edit"})])])])])},S=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"img-container"},[o("img",{attrs:{src:n("1f99"),alt:""}})])}],E={name:"toy-list",props:{toy:Object},data:function(){return{randomNum:"2"}},methods:{removeToy:function(t){this.$emit("removeToy",t)},showDetails:function(t){this.$router.push("/misterToy-app/".concat(t))},editToy:function(t){this.$router.push("/misterToy-app/edit/".concat(t))}}},O=E,j=Object(l["a"])(O,I,S,!1,null,null,null),P=j.exports,B={name:"toy-list",props:{toys:Array},methods:{removeToy:function(t){this.$emit("removeToy",t)}},components:{toyPreview:P}},D=B,N=Object(l["a"])(D,x,k,!1,null,null,null),F=N.exports,L=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},M=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toy-filter"},[n("form",{staticClass:"search-form"},[n("input",{staticClass:"search-input",attrs:{type:"text",placeholder:"Search products..."}}),n("button",[n("i",{staticClass:"fas fa-search"})])])])}],q={name:"toy-filter"},A=q,G=Object(l["a"])(A,L,M,!1,null,null,null),H=G.exports,J={name:"misterToy-app",computed:{toysToShow:function(){return this.$store.getters.toysForDisplay}},methods:{removeToy:function(t){this.$store.dispatch({type:"removeToy",toyId:t}).then((function(){console.log("toy Removed from store")})).catch((function(t){console.log("err:",t)}))}},created:function(){this.$store.dispatch({type:"loadToys"})},components:{toyList:F,toyFilter:H}},R=J,K=Object(l["a"])(R,U,$,!1,null,null,null),Y=K.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toy-edit"},[n("h1",[t._v("EditPage")]),t.toy?n("form",{on:{submit:function(e){return e.preventDefault(),t.saveToy(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.toy.name,expression:"toy.name"}],attrs:{type:"text"},domProps:{value:t.toy.name},on:{input:function(e){e.target.composing||t.$set(t.toy,"name",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.toy.price,expression:"toy.price"}],attrs:{type:"text"},domProps:{value:t.toy.price},on:{input:function(e){e.target.composing||t.$set(t.toy,"price",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.toy.type,expression:"toy.type"}],attrs:{type:"text"},domProps:{value:t.toy.type},on:{input:function(e){e.target.composing||t.$set(t.toy,"type",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.toy.inStock,expression:"toy.inStock"}],attrs:{type:"text"},domProps:{value:t.toy.inStock},on:{input:function(e){e.target.composing||t.$set(t.toy,"inStock",e.target.value)}}}),n("button",[t._v("save changes")])]):t._e(),n("button",{on:{click:function(e){return t.goBack()}}},[t._v("Go back")])])},Q=[],V=n("5530"),W={name:"toy-edit",data:function(){return{toy:null}},methods:{saveToy:function(){this.$store.dispatch({type:"saveToy",toy:this.toy})},goBack:function(){this.$router.go(-1)},loadToy:function(){var t=this,e=this.$route.params.toyId;this.$store.dispatch({type:"getToyById",toyId:e}).then((function(){t.toy=Object(V["a"])({},t.$store.getters.toyForDisplay)}))}},created:function(){this.loadToy()}},X=W,Z=(n("59bd"),Object(l["a"])(X,z,Q,!1,null,"b76f291c",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.toy?n("div",{staticClass:"toy-details"},[n("div",{staticClass:"header"},[n("h1",[t._v(t._s(t.toy.name))]),n("router-link",{attrs:{to:"/misterToy-app"}},[n("button",{staticClass:"back-btn"},[t._v("â†µ")])])],1),n("div",{staticClass:"body"},[t._m(0),n("div",{staticClass:"details"},[n("p",[t._v("$"+t._s(t.toy.price))]),t.toy.inStock?n("p",[t._v("In Stock!")]):t._e(),n("p",[t._v("Type: "+t._s(t.toy.type))])])])]):t._e()},nt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"img-container"},[o("img",{attrs:{src:n("1f99"),alt:""}})])}],ot={name:"toy-details",data:function(){return{toy:null}},methods:{loadToy:function(){var t=this,e=this.$route.params.toyId;this.$store.dispatch({type:"getToyById",toyId:e}).then((function(){t.toy=t.$store.getters.toyForDisplay}))}},created:function(){this.loadToy()}},rt=ot,st=Object(l["a"])(rt,et,nt,!1,null,null,null),at=st.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sign-up"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.signup(e)}}},[t._m(0),n("div",{staticClass:"form-main-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.loggedinUser.fullname,expression:"loggedinUser.fullname"}],attrs:{type:"text",placeholder:"Fullname"},domProps:{value:t.loggedinUser.fullname},on:{input:function(e){e.target.composing||t.$set(t.loggedinUser,"fullname",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loggedinUser.username,expression:"loggedinUser.username"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:t.loggedinUser.username},on:{input:function(e){e.target.composing||t.$set(t.loggedinUser,"username",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loggedinUser.password,expression:"loggedinUser.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.loggedinUser.password},on:{input:function(e){e.target.composing||t.$set(t.loggedinUser,"password",e.target.value)}}}),n("button",{staticClass:"sign-up-btn"},[t._v("Sign Up")]),t._m(1)])]),n("button",{on:{click:function(e){return t.goBack()}}},[t._v("Go back")])])},ut=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-header-container"},[n("h2",[t._v("Sign Up")]),n("div",{staticClass:"img-container"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-footer-container"},[n("div",{staticClass:"checkbox-container"},[n("input",{staticClass:"remember-btn",attrs:{type:"checkbox",name:"remember"}}),n("label",{attrs:{for:"remember"}},[t._v("remember me")])]),n("button",{staticClass:"forgot-btn"},[t._v("Forgot Password?")])])}],ct={name:"sign-up",data:function(){return{loggedinUser:{fullname:"",username:"",password:""}}},methods:{signup:function(){var t=this;this.$store.dispatch({type:"saveUser",user:this.loggedinUser}).then((function(){t.$router.push("/misterToy-app")}))},goBack:function(){this.$router.go(-1)}},created:function(){}},lt=ct,dt=Object(l["a"])(lt,it,ut,!1,null,null,null),pt=dt.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[t._m(0),n("div",{staticClass:"form-main-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.loggedinUser.username,expression:"loggedinUser.username"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:t.loggedinUser.username},on:{input:function(e){e.target.composing||t.$set(t.loggedinUser,"username",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loggedinUser.password,expression:"loggedinUser.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.loggedinUser.password},on:{input:function(e){e.target.composing||t.$set(t.loggedinUser,"password",e.target.value)}}}),n("button",{staticClass:"login-btn"},[t._v("Login")]),t._m(1),n("hr"),n("p",[t._v("Not a member yet? "),n("router-link",{attrs:{to:"/sign-up"}},[t._v("Join now ")])],1)])]),n("button",{on:{click:function(e){return t.goBack()}}},[t._v("Home")])])},ft=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"form-header-container"},[o("h2",[t._v("Sign In")]),o("div",{staticClass:"img-container"},[o("img",{attrs:{src:n("1b13"),alt:""}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-footer-container"},[n("div",{staticClass:"checkbox-container"},[n("input",{staticClass:"remember-btn",attrs:{type:"checkbox",name:"remember"}}),n("label",{attrs:{for:"remember"}},[t._v("remember me")])]),n("button",{staticClass:"forgot-btn"},[t._v("Forgot Password?")])])}],yt={name:"log-in",data:function(){return{loggedinUser:{username:"",password:""}}},methods:{login:function(){var t=this;this.$store.dispatch({type:"logUser",user:this.loggedinUser}).then((function(){t.$router.push("/misterToy-app")}))},goBack:function(){this.$router.push("/")}},created:function(){}},vt=yt,gt=Object(l["a"])(vt,mt,ft,!1,null,null,null),ht=gt.exports;o["a"].use(g["a"]);var _t=[{path:"/",name:"home",component:T},{path:"/misterToy-app",name:"misterToyApp",component:Y},{path:"/misterToy-app/edit/:toyId",component:tt},{path:"/misterToy-app/:toyId",component:at},{path:"/sign-up",component:pt},{path:"/login",component:ht}],bt=new g["a"]({mode:"hash",base:"/",routes:_t}),Ct=bt,wt=n("2f62");n("c740"),n("a434"),n("7db0");var Tt=n("1da1"),Ut=(n("96cf"),n("99af"),n("bc3a")),$t=n.n(Ut),xt="/api/",kt=$t.a.create({withCredentials:!0}),It={get:function(t,e){return St(t,"GET",e)},post:function(t,e){return St(t,"POST",e)},put:function(t,e){return St(t,"PUT",e)},remove:function(t,e){return St(t,"DELETE",e)}};function St(t,e){return Et.apply(this,arguments)}function Et(){return Et=Object(Tt["a"])(regeneratorRuntime.mark((function t(e,n){var o,r,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=s.length>2&&void 0!==s[2]?s[2]:null,t.prev=1,t.next=4,kt({url:"".concat(xt).concat(e),method:n,data:o});case 4:return r=t.sent,t.abrupt("return",r.data);case 8:throw t.prev=8,t.t0=t["catch"](1),console.log(" Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(e,", with data: ").concat(o)),console.dir(t.t0),t.t0.response&&401===t.t0.response.status&&window.location.assign("/#/login"),t.t0;case 14:case"end":return t.stop()}}),t,null,[[1,8]])}))),Et.apply(this,arguments)}var Ot={query:Pt,getById:Bt,remove:Dt,save:Nt,getEmptyToy:Ft},jt="toy/";function Pt(){return It.get(jt)}function Bt(t){return It.get(jt+t)}function Dt(t){return It.remove(jt+t)}function Nt(t){var e=t._id?It.put(jt+t._id,t):It.post(KEY,t);return e}function Ft(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return{name:t,price:e,tags:[]}}var Lt={state:{toys:[],toy:null},getters:{toysForDisplay:function(t){return t.toys},toyForDisplay:function(t){return t.toy}},mutations:{setToys:function(t,e){t.toys=e.toys},removeToy:function(t,e){var n=e.toyId,o=t.toys.findIndex((function(t){return t._id===n}));t.toys.splice(o,1)},addToy:function(t,e){var n=e.toy;t.toys.push(n)},updateToy:function(t,e){var n=e.toy,o=t.toys.findIndex((function(t){return t._id===n._id}));t.toys.splice(o,1,n)},getToyById:function(t,e){var n=e.toyId,o=t.toys.find((function(t){return t._id===n}));t.toy=o}},actions:{loadToys:function(t){var e=t.commit;t.state;return Ot.query().then((function(t){e({type:"setToys",toys:t})})).then((function(){return console.log("loaded toys successfully")})).catch((function(t){throw console.log("Store: Cannot load toys",t),new Error("Cannot load toys")}))},removeToy:function(t,e){var n=t.commit,o=e.toyId;return Ot.remove(o).then((function(){n({type:"removeToy",toyId:o})})).catch((function(t){console.log("Store: Cannot remove toy",t)}))},saveToy:function(t,e){var n=t.commit,o=e.toy,r=o._id?"updateToy":"addToy";Ot.save(o).then((function(t){n({type:r,toy:t})})).catch((function(t){console.log("err",t)}))},getToyById:function(t,e){var n=t.commit,o=e.toyId;return Ot.getById(o).then((function(t){n({type:"getToyById",toyId:o})})).catch((function(t){console.log("Store: Cannot get toy",t)}))}}},Mt={query:Gt,login:Kt,logout:Yt,getById:Ht,remove:Jt,save:Rt,getEmptyUser:zt},qt="user/",At="auth/";function Gt(){return It.get(qt)}function Ht(t){return It.get(qt+t)}function Jt(t){return It.remove(qt+t)}function Rt(t){var e=It.post(At+"signup",t);return e}function Kt(t){return It.post(At+"login",t)}function Yt(t){return It.post(At+"logout",t)}function zt(){return{fullname:fullname,username:username,password:password,isAdmin:isAdmin}}var Qt={state:{users:[],currUser:null},getters:{usersForDisplay:function(t){return t.users},currUser:function(t){return t.currUser}},mutations:{setUsers:function(t,e){t.users=e.users},removeUser:function(t,e){var n=e.userId,o=t.users.findIndex((function(t){return t._id===n}));t.users.splice(o,1)},addUser:function(t,e){var n=e.user;t.currUser=n,t.users.push(n)},setCurrUser:function(t,e){var n=e.user;t.currUser=n},cleanCurrUser:function(t,e){e.user;t.currUser=null},updateUser:function(t,e){var n=e.user,o=t.users.findIndex((function(t){return t._id===n._id}));t.users.splice(o,1,n)},getUserById:function(t,e){var n=e.userId,o=t.users.find((function(t){return t._id===n}));t.currUser=o}},actions:{loadUsers:function(t){var e=t.commit;t.state;return Mt.query().then((function(t){e({type:"setUsers",users:t})})).then((function(){return console.log("loaded users successfully")})).catch((function(t){throw console.log("Store: Cannot load users",t),new Error("Cannot load users")}))},removeUser:function(t,e){var n=t.commit,o=e.userId;return Mt.remove(o).then((function(){n({type:"removeUser",userId:o})})).catch((function(t){console.log("Store: Cannot remove user",t)}))},saveUser:function(t,e){var n=t.commit,o=e.user,r=o._id?"updateUser":"addUser";Mt.save(o).then((function(t){n({type:r,user:t})})).catch((function(t){console.log("err",t)}))},logUser:function(t,e){var n=t.commit,o=e.user;Mt.login(o).then((function(t){n({type:"setCurrUser",user:t})})).catch((function(t){console.log("err",t)}))},logout:function(t,e){var n=t.commit,o=e.user;Mt.logout(o).then((function(){n({type:"cleanCurrUser"})})).catch((function(t){console.log("Store: Cannot remove userLoggedIn",t)}))},getUserById:function(t,e){var n=t.commit,o=e.userId;return Mt.getById(o).then((function(){n({type:"getUserById",userId:o}),console.log(state.currUser)})).catch((function(t){console.log("Store: Cannot get user",t)}))}}};o["a"].use(wt["a"]);var Vt=new wt["a"].Store({strict:!0,modules:{toyStore:Lt,userStore:Qt}});n("b3be");o["a"].config.productionTip=!1,new o["a"]({router:Ct,store:Vt,render:function(t){return t(v)}}).$mount("#app")},"59bd":function(t,e,n){"use strict";n("8cca")},"8cca":function(t,e,n){},b3be:function(t,e,n){},cd3a:function(t,e,n){"use strict";n("138a")}});
//# sourceMappingURL=app.08ba1326.js.map